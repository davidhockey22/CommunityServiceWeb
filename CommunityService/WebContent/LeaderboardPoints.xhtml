<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title>Leaderboard by Points</title>
</h:head>
<h:body>
	<ui:composition template="commonTemplate.xhtml">
		<ui:define name="content">
			<p:tabView id="tabView" dynamic="true" cache="true">

				<p:tab id="tba1" title="Volunteer Leaderboard">
					<p:dataTable rendered="#{not empty leaderboardBean.results}" var="result" value="#{leaderboardBean.results}" rowKey="#{result.name}"
						paginator="true" paginatorPosition="bottom" paginatorAlwaysVisible="false" rows="25" id="pointstable">
						<p:column headerText="Rank">
							<h:outputText value="#{leaderboardBean.rowIndex}" />
						</p:column>
						<p:column headerText="Name" sortBy="volunteerName" id="nameId">
							<h:link value="#{result.volunteerName}" outcome="/ViewVolunteer.xhtml">
								<f:param name="volunteerId" value="#{result.volunteerId}" />
							</h:link>
						</p:column>
						<p:column headerText="Points" sortBy="points" id="pointsId">
							<h:outputText value="#{result.points}">
								<f:convertNumber pattern="#0" />
							</h:outputText>
						</p:column>
						<p:column headerText="Hours" sortBy="hoursWorked" id="hoursId">
							<h:outputText value="#{result.hoursWorked}">
								<f:convertNumber pattern="#0" />
							</h:outputText>
						</p:column>
					</p:dataTable>
				</p:tab>

				<p:tab id="tab2" title="Group Leaderboards">
					<p:dataTable rendered="#{not empty leaderboardBean.resultsG}" var="result" value="#{leaderboardBean.resultsG}" rowKey="#{result.groupName}"
						paginator="true" paginatorPosition="bottom" paginatorAlwaysVisible="false" rows="25" id="pointstable2">
						<p:column headerText="Rank">
							<h:outputText value="#{leaderboardBean.rowIndex2}" />
						</p:column>
						<p:column headerText="Name" sortBy="groupName" id="nameId">  
			          			#{result.groupName}
			      			</p:column>
						<p:column headerText="Points" sortBy="points" id="pointsId">
							<h:outputText value="#{result.points}">
								<f:convertNumber pattern="#0" />
							</h:outputText>
						</p:column>
						<p:column headerText="Hours" sortBy="hoursWorked" id="hoursId">
							<h:outputText value="#{result.hoursWorked}">
								<f:convertNumber pattern="#0" />
							</h:outputText>
						</p:column>
					</p:dataTable>
				</p:tab>
				<!-- 
				<p:tab id="tab3" title="Organization Leaderboards">
					<h:panelGrid cellpadding="10">
					</h:panelGrid>
				</p:tab> -->

			</p:tabView>



		</ui:define>
	</ui:composition>
</h:body>
</html>